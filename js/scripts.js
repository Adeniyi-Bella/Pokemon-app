let pokemonRepository = function () { let e = []; var t = document.getElementById("myModal"); let o = document.querySelector("#loader"); async function n() { var e; (e = o).style.display = "block"; (await (await fetch("https://pokeapi.co/api/v2/pokemon/?limit=50")).json()).results.forEach(async function (e) { l({ pokemonName: e.name, detailsUrl: e.url }) }) } function l(t) { e.push(t) } function i() { return e } async function a(e) { console.log(e); let t = e.detailsUrl; try { let o = await (await fetch(t)).json(); e.imageUrl = o.sprites.front_default, e.height = o.height, e.types = o.types } catch (n) { console.log(n) } return e } async function s(e) { d(e) } function d(e) { console.log(e.pokemonName), t.style.display = "block"; document.getElementById("Name-two").innerText = `I am called ${e.pokemonName}. This is my modal view`; document.getElementById("image-two").src = e.imageUrl; document.getElementById("show-details").style.display = "block" } return document.querySelector(".close-modal").addEventListener("click", function () { t.style.display = "none" }), { loadList: n, add: l, getAll: i, addListItem: function e(t) { let o = document.querySelector(".list-group"), n = document.createElement("li"); n.classList.add("list-one"); let l = document.createElement("img"); l.classList.add("image-one"); let i = document.createElement("h4"); i.classList.add("Name-one"), i.innerText = t.pokemonName, l.src = t.imageUrl; let a = document.createElement("button"); return a.innerText = "click me", a.classList.add("click-me"), n.appendChild(l), n.appendChild(a), n.appendChild(i), o.appendChild(n), a }, eventListen: function e(t, o) { console.log(t), t.addEventListener("click", function () { s(o) }) }, loadDetails: a, hideLoadingMessage: function e() { document.querySelector("#loader").style.display = "none" }, showPokemon: d } }(); pokemonRepository.loadList().then(function () { pokemonRepository.getAll().forEach(async e => { await pokemonRepository.loadDetails(e); let t = pokemonRepository.addListItem(e); pokemonRepository.hideLoadingMessage(), pokemonRepository.eventListen(t, e) }) });